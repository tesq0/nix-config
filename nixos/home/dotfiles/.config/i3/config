# vim: filetype=i3

###---Basic Definitions---###
focus_follows_mouse yes
hide_edge_borders both
for_window [class="^.*"] border pixel 1

# only works with the gaps mod
# gaps inner 10
# smart_gaps on
# gaps outer 10

font -misc-fixed-medium-r-normal--13-120-75-75-C-70-iso10646-1
#font pango:Hack 11

set $mod Mod4

set $term $TERMINAL
set $video_pulse --no-startup-id bash ~/.config/Scripts/screencast_pulse.sh
set $video --no-startup-id bash ~/.config/Scripts/video.sh
set $stoprec --no-startup-id killall ffmpeg & killall screenkey
set $browser google-chrome-stable
set $file-manager ranger
floating_modifier Mod4
hide_edge_borders smart

###---Starting External Scripts---###
# exec_always --no-startup-id ~/.config/polybar/launch.sh
# exec --no-startup-id skypeforlinux
# exec --no-startup-id goldendict &
exec --no-startup-id dunst &
exec --no-startup-id qjackctl &
exec --no-startup-id ~/.scripts/monitor-notifications ~/.notify.log &
# exec --no-startup-id i3-unity-fix &

##For mpc:
set $pause --no-startup-id mpc toggle
set $trupause --no-startup-id mpc pause
set $next --no-startup-id mpc next
set $prev --no-startup-id mpc prev
set $lilfor --no-startup-id mpc seek +10
set $bigfor --no-startup-id mpc seek +120
set $lilbak --no-startup-id mpc seek -10
set $bigbak --no-startup-id mpc seek -120
set $beg --no-startup-id mpc seek 0%
set $volup --no-startup-id mpc volume +5
set $voldown --no-startup-id mpc volume -5

# Scree outputs
set $primary "DVI-D-0"
set $secondary "HDMI-0"

#For PULSEAUDIO/PAMIXER
set $inc --no-startup-id pamixer -i 2
set $biginc --no-startup-id pamixer --allow-boost -i 15
set $dec --no-startup-id pamixer -d 2
set $bigdec --no-startup-id pamixer --allow-boost -d 15
set $mute --no-startup-id pamixer --allow-boost -t
set $micmute --no-startup-id pamixer --allow-boost -t
set $truemute --no-startup-id pamixer -m
set $screencast  --no-startup-id bash ~/.config/Scripts/screencast_pulse.sh
set $audio --no-startup-id bash ~/.config/Scripts/audio_pulse.sh



###---Dropdown/Scratchpad Windows---###
# General dropdown window traits. The order can matter.
for_window [instance="^dropdown_*"] floating enable
for_window [instance="^dropdown_*"] move scratchpad
for_window [instance="^dropdown_*"] sticky enable

for_window [instance="^dropdown_term"] resize set 1000 600
for_window [instance="^dropdown_file-manager"] resize set 1280 720
for_window [instance="^dropdown_sys-monitor"] resize set 1920 900
for_window [instance="^dropdown_git"] resize set 1280 720
for_window [instance="^dropdown_mail"] resize set 1280 720
for_window [instance="^dropdown_audiomixer"] resize set 800 600
for_window [instance="^dropdown_music"] resize set 800 600

for_window [instance="^dropdown_*"] move position center

for_window [class="locate-pointer"] floating enable, border pixel 0

# emacs
# for_window [class="Emacs" title="Helm"] floating enable, border pixel 0, move position center

##dialog windows


for_window [window_type="dialog"] floating enable, move position center

for_window [class="Impactor"] floating enable, move position center

for_window [instance="dragon"] sticky enable

for_window [class="Impactor"] floating enable, move position center

#MUSIC
for_window [instance="qjackctl"] floating enable, move position center
for_window [class="Qjackctl"] floating enable, move position center
for_window [class="JAMENDO"] floating enable, resize set 800 600, move position center, move scratchpad
for_window [class="Spotify"] move to workspace $ws8

#MPV twitch
for_window [class="mpv" title=".*twitch\.tv.*"] floating enable, sticky enable, resize set 480 273, move position 1440 785, border pixel 0
no_focus [class="mpv" title=".*twitch\.tv.*"]

#dict
for_window [class="GoldenDict" window_type="normal"] floating enable, resize set 1280 720, move position center

# trello
for_window [class="TRELLO"] floating enable, resize set 1550 980, move position 180 0, move scratchpad

#SLACK
for_window [window_type="normal" class="Slack" title="Slack"] floating enable, sticky enable, resize set 1220 720, move position center

no_focus [ window_type="normal" class="Slack" ]

#TOX
for_window [class="qTox"] floating enable, sticky enable, resize set 1220 720, move position center

#Signal
for_window [class="Signal"] floating enable, sticky enable, resize set 1220 720, move position center

for_window [instance="Mail"] floating enable, sticky enable, resize set 1220 720, move position center
for_window [class="Daily"] floating enable, sticky enable, resize set 1220 720, move position center

#SONATA
for_window [window_type="normal" class="Sonata"] floating enable, move position center

#COLORPICKER

for_window [window_type="normal" class="Colorgrab" title="ColorGrab"] floating enable, resize set 800 600, move position center
for_window [window_type="normal" class="Gcolor3" ] floating enable,  move position center

#KMAG
for_window [window_type="normal" class="Vmg"] floating enable, move position center
for_window [window_type="normal" class="kmag"] floating enable, move position center

#SKYPE

for_window [window_type="normal" class="Skype" title="Skype"] floating enable, resize set 1220 720, move position center
#KEE
for_window [window_type="normal" instance="keepassxc"] floating enable, resize set 1280 720, move position center

#DISCORD
for_window [window_type="normal" class="discord" title="Discord"] floating enable, resize set 1220 720, move position center


#GEARY
for_window [window_type="normal" class="Geary" title="Geary"] floating enable
for_window [window_type="normal" class="Geary" title="Geary"] resize set 1280 720
for_window [window_type="normal" class="Geary" title="Geary"] move position center
for_window [window_type="normal" class="Geary" title="Geary"] move scratchpad

#UNITY
for_window [ class="(?i)unity" ] move to workspace $ws1
for_window [ class="(?i)unity" window_role="pop-up" ] floating enable
for_window [ class="(?i)unity" window_role="pop-up" ] floating enable
for_window [ title="Hold on.*" class="(?i)unity" ] floating enable
no_focus [ title="Hold on.*" ]

#window settings
#PAVUCONTROL
for_window [instance="pavucontrol"] floating enable
for_window [instance="pavucontrol"] resize set 800 600
for_window [instance="pavucontrol"] move position center

for_window [class="krusader"] floating enable
for_window [class="krusader"] move position center

#ip-changer && Tibia
for_window [title="Tibia IP changer"] floating enable, resize set 400 200, move position center
for_window [title="Tibia Player Linux"] border pixel
#STOPWATCH

for_window [title="pyStopwatch"] floating enable
for_window [title="pystopwatch"] floating enable

for_window [class="kronometer"] floating enable

#STEAM
for_window [title="Steam Guard"] floating enable, move position center

#DIA
# for_window [title="Dia" window_role="toolbox_window"] floating enable, move position 1727 72
# for_window [title="Dia" window_role="toolbox_window"] resize set 170 955
#XEV
for_window [title="Event Tester"] border pixel, floating enable resize set 300 200, move position mouse

#FLORENCE

for_window [window_type="normal" class="Florence" title="florence"] floating enable, resize set 720 300,move position mouse
#for_window [window_type="normal" class="Florence" title="florence"] floating enable, resize set 720 480,move position mouse

#POPUP windows

for_window [window_role="pop-up"] floating enable, move position center

for_window [window_role="pop-up" title="Developer Tools"] floating disable, move to workspace $ws9

#GODOT ENGINE

for_window [instance="Godot_Engine" class="^(?!VirtualBox).*$"] floating enable
for_window [instance="Godot_Editor" class="Godot"] floating disable

###---Basic Bindings---###

bindsym $mod+Control+d exec --no-startup-id goldendict
bindsym $mod+F6 exec --no-startup-id ~/.scripts/i3cmds/spawn slack Slack
bindsym $mod+F7 exec --no-startup-id keepassxc
bindsym $mod+F8 exec --no-startup-id ~/.scripts/i3cmds/spawn signal-desktop Signal

bindsym $mod+Return			exec --no-startup-id $term
bindsym $mod+Control+Return		exec --no-startup-id $term -e tmux

bindsym $mod+Control+space	floating toggle
bindsym $mod+space		focus mode_toggle

bindsym $mod+Control+Escape		exec i3-msg exit

###---Letter Key Bindings---###
bindsym $mod+q			kill
bindsym --release $mod+Control+q	exec --no-startup-id xkill

bindsym $mod+t	layout toggle tabbed split
bindsym $mod+b		exec --no-startup-id $browser
bindsym $mod+Control+b		exec --no-startup-id $browser --private-window

bindsym $mod+d	exec --no-startup-id bash ~/.scripts/i3cmds/ddspawn term file-manager $file-manager

bindsym $mod+e		exec --no-startup-id bash -c "emacs"
##+Control

bindsym $mod+s sticky toggle

set $resize_mode Resize: i: grow, d: shrink, W: grow width, w shrink width, H: grow height, h: shrink height
bindsym $mod+r mode "$resize_mode"

mode "$resize_mode" {

bindsym i resize grow width 5 px or 1 ppt, resize grow height 5px or 1 ppt
bindsym d resize shrink width 5 px or 1 ppt, resize shrink height 5px or 1 ppt
bindsym Shift+w	resize grow width 5 px or 1 ppt
bindsym w	resize shrink width 5 px or 1 ppt
bindsym Shift+h	resize grow height 5 px or 1 ppt
bindsym h	resize shrink height 5 px or 1 ppt
bindsym Escape mode "default"
bindsym Return mode "default"
bindsym Space mode "default"
bindsym $mod+Mod2 mode "default"

}

bindsym $mod+Control+r		restart

bindsym $mod+a			focus output $primary, exec --no-startup-id bash ~/.scripts/i3cmds/spawn pavucontrol audio-control

bindsym $mod+i			focus output $primary, exec --no-startup-id bash ~/.scripts/i3cmds/ddspawn term sys-monitor -e htop

bindsym $mod+g			focus output $primary, exec --no-startup-id bash ~/.scripts/i3cmds/ddspawn term git -e "bash -c 'cd ~/Documents/Projects/mieszkaniobot/ && fish'"

bindsym $mod+u			focus output $primary, exec --no-startup-id bash ~/.scripts/i3cmds/ddspawn term term -e tmux

# bindsym $mod+m			focus output $primary, exec --no-startup-id bash ~/.scripts/i3cmds/ddspawn emacs mail -e "(mu4e)"
bindsym $mod+m			focus output $primary, exec --no-startup-id ~/.scripts/i3cmds/spawn thunderbird Mail
bindsym XF86Mail		focus output $primary, exec --no-startup-id ~/.scripts/i3cmds/spawn thunderbird Mail

bindsym $mod+n			focus output $primary, exec --no-startup-id bash ~/.scripts/i3cmds/ddspawn emacs todo ~/Documents/Notes/todo.org

bindsym $mod+BackSpace exec --no-startup-id bash ~/.scripts/i3cmds/pop_dropdown
bindsym $mod+Control+BackSpace exec --no-startup-id bash ~/.scripts/i3cmds/despawn_dropdowns

bindsym $mod+Control+plus resize grow width 20 px, resize grow height 20px, move left 10, move up 10
bindsym $mod+Control+minus resize shrink width 20 px, resize shrink height 20px, move right 10, move down 10
bindsym $mod+Control+comma		move container to output $primary, focus output primary

bindsym $mod+c exec --no-startup-id ~/.scripts/i3cmds/showclip
bindsym $mod+Control+c exec --no-startup-id ~/.scripts/autoclick
bindsym --whole-window $mod+button2 exec --no-startup-id ~/.scripts/autoclick

bindsym $mod+p exec "passmenu --type"
bindsym $mod+Control+p exec "passmenu"
# bindsym $mod+Control+p exec "ph type --tabbed"

bindsym $mod+comma		focus output $primary

bindsym $mod+Control+period	move container to output $secondary, focus output $secondary

bindsym $mod+period			focus output $secondary

bindsym $mod+Prior			focus parent
bindsym $mod+Next			focus child

bindsym $mod+Control+a		exec --no-startup-id pavucontrol

bindsym $mod+x			exec rofi -show run
bindsym $mod+w			exec rofi -show window

bindsym --release $mod+z	exec --no-startup-id xkill

bindsym $mod+f			fullscreen toggle
#bindsym $mod+Shift+f

bindsym $mod+Control+g		exec --no-startup-id gimp; workspace $ws5

bindsym $mod+j			focus left
bindsym $mod+Control+j		move left 60

bindsym $mod+k			focus down
bindsym $mod+Control+k		move down 60

bindsym $mod+l			focus up
bindsym $mod+Control+l		move up 60

bindsym $mod+semicolon		focus right
bindsym $mod+Control+semicolon	move right 60

# bindsym $mod+c			focus child
#bindsym $mod+Shift+c		exec --no-startup-id xsel -bd
#bindsym $mod+Shift+c

bindsym $mod+v			split v
#bindsym $mod+Shift+v		exec pushd ~/Notes && $term -e bash -c "nvim"

bindsym $mod+h			split h

###---Workspace Bindings---###
bindsym $mod+Home		workspace $ws1
bindsym $mod+Shift+Home		move container to workspace $ws1
bindsym $mod+End		workspace $ws10
bindsym $mod+Shift+End		move container to workspace $ws10
bindsym $mod+Shift+Prior	move container to workspace prev
bindsym $mod+Shift+Next		move container to workspace next
bindsym $mod+Tab		workspace back_and_forth
bindsym $mod+XF86Back		workspace prev

bindsym $mod+bracketleft	workspace prev
bindsym $mod+bracketright	workspace next

bindsym --whole-window $mod+Control+button4 workspace prev
bindsym --whole-window $mod+Control+button5 workspace next

bindsym --whole-window $mod+button4 focus left
bindsym --whole-window $mod+button5 focus right


bindsym $mod+Control+bracketleft	move container to workspace prev, workspace prev
bindsym $mod+Control+bracketright	move container to workspace next, workspace next

#bindsym $mod+Shift+XF86Back
bindsym $mod+XF86Forward	workspace next
#bindsym $mod+Shift+XF86Forward
#bindsym $mod+semicolon		workspace next
bindsym $mod+apostrophe		split horizontal ;; exec $term
bindsym $mod+slash		split vertical ;; exec $term
bindsym $mod+Control+slash	kill
bindsym $mod+backslash		workspace back_and_forth


set $ws1 "1"
set $ws2 "2"
set $ws3 "3"
set $ws4 "4: RESEARCH_L"
set $ws5 "5: EDITING_L"
set $ws6 "6: EDITING_R"
set $ws7 "7: RESEARCH_R"
set $ws8 "8"
set $ws9 "9"
set $ws10 "10"

workspace $ws1 output $primary
workspace $ws2 output $primary
workspace $ws3 output $primary
workspace $ws4 output $primary
workspace $ws5 output $primary
workspace $ws6 output $secondary
workspace $ws7 output $secondary
workspace $ws8 output $secondary
workspace $ws9 output $secondary
workspace $ws10 output $secondary

# switch to workspace
bindsym $mod+1		workspace $ws1
bindsym $mod+2		workspace $ws2
bindsym $mod+3		workspace $ws3
bindsym $mod+4		workspace $ws4
bindsym $mod+5		workspace $ws5
bindsym $mod+6		workspace $ws6
bindsym $mod+7		workspace $ws7
bindsym $mod+8		workspace $ws8
bindsym $mod+9		workspace $ws9
bindsym $mod+0		workspace $ws10

bindsym $mod+Mod2+KP_1		workspace $ws1
bindsym $mod+Mod2+KP_2		workspace $ws2
bindsym $mod+Mod2+KP_3		workspace $ws3
bindsym $mod+Mod2+KP_4		workspace $ws4
bindsym $mod+Mod2+KP_5		workspace $ws5
bindsym $mod+Mod2+KP_6		workspace $ws6
bindsym $mod+Mod2+KP_7		workspace $ws7
bindsym $mod+Mod2+KP_8		workspace $ws8
bindsym $mod+Mod2+KP_9		workspace $ws9
bindsym $mod+Mod2+KP_0		workspace $ws10


# move focused container to workspace
bindsym $mod+Control+1	move container to workspace $ws1, workspace $ws1
bindsym $mod+Control+2	move container to workspace $ws2, workspace $ws2
bindsym $mod+Control+3	move container to workspace $ws3, workspace $ws3
bindsym $mod+Control+4	move container to workspace $ws4, workspace $ws4
bindsym $mod+Control+5	move container to workspace $ws5, workspace $ws5
bindsym $mod+Control+6	move container to workspace $ws6, workspace $ws6
bindsym $mod+Control+7	move container to workspace $ws7, workspace $ws7
bindsym $mod+Control+8	move container to workspace $ws8, workspace $ws8
bindsym $mod+Control+9	move container to workspace $ws9, workspace $ws9
bindsym $mod+Control+0	move container to workspace $ws10, workspace $ws10

# for_window [class="obs"] floating enable, resize set 1280 720, sticky enable
# for_window [class="obs"] move position center, move workspace $ws7
for_window [class="obs"] move workspace $ws7
for_window [window_role="GtkFileChooserDialog"] resize shrink height 10 px


###---Function Buttons---###
#bindsym F1		nop
#bindsym F2
#bindsym F3
#bindsym F4
#bindsym F5
#bindsym F6
#bindsym F7
#bindsym F8
#bindsym F9
#bindsym F10
bindsym F11		fullscreen toggle


###---Arrow Keys---###
bindsym $mod+Left		focus left
bindsym $mod+Down		focus down
bindsym $mod+Up			focus up
bindsym $mod+Right		focus right
bindsym $mod+Control+Left		move left
bindsym $mod+Control+Down		move down
bindsym $mod+Control+Up		move up
bindsym $mod+Control+Right	move right

for_window [title="clipqr"] floating enable, move position center
for_window [class="(?i)qalculate.*"] floating enable, move position center

#Print screen takes a screenshot.
#With shift, it takes one only of the given window.
bindsym Print	exec --no-startup-id scrot '%Y-%m-%d_$wx$h.png' -e 'mv $f ~/screenshoots/'
bindsym Shift+Print	exec --no-startup-id scrot -u '%Y-%m-%d_$wx$h.png' -e 'mv $f ~/screenshoots/'
bindsym --release $mod+F1 exec --no-startup-id ~/.scripts/clipboard-as-qrcode
bindsym --release $mod+F2 exec --no-startup-id ~/.scripts/i3cmds/grab-screenshot
bindsym --release $mod+F3 exec --no-startup-id ~/.scripts/i3cmds/dmenurecord
bindsym --release $mod+F4 exec --no-startup-id ~/.scripts/i3cmds/killrecording

bindsym --release $mod+F9 exec --no-startup-id ~/.scripts/i3cmds/dmenumount
bindsym --release $mod+F10 exec --no-startup-id ~/.scripts/i3cmds/dmenuunmount

bindsym --release $mod+F12 exec --no-startup-id ~/.scripts/i3cmds/dmenu_kblayout


#For recording audio/video or stop recording. Also screenkey for visual typing.
bindsym XF86Launch7		exec $video
bindsym XF86Launch8		exec $video_pulse
bindsym XF86Launch9		exec $stoprec
bindsym $mod+Delete	exec $stoprec



###---Extra XF86 Keys---###
#These are the extra media keys that some keyboards have.
bindsym XF86AudioMute		exec $mute
bindsym XF86AudioLowerVolume	exec $dec
bindsym XF86AudioRaiseVolume	exec $inc

bindsym $mod+plus	exec $inc
bindsym $mod+minus exec $dec

##bindsym XF86PowerOff		exec sudo shutdown -h now
#bindsym XF86Copy		exec
#bindsym XF86Open		exec
#bindsym XF86Paste		exec
#bindsym XF86Cut		exec
#bindsym XF86MenuKB		exec
bindsym XF86Calculator	exec qalculate
##bindsym XF86Sleep		exec sudo zzz
#bindsym XF86WakeUp		exec
bindsym XF86Explorer		exec $term -e ranger
#bindsym XF86Send		exec
#bindsym XF86Xfer		exec
bindsym XF86WWW			exec --no-startup-id $browser
#bindsym XF86DOS		exec
#bindsym XF86RotateWindows	exec
#bindsym XF86TaskPane		exec
#bindsym XF86Favorites		exec
bindsym XF86MyComputer		exec $term -e ranger
#bindsym XF86Back		exec
#bindsym XF86Forward		exec
bindsym XF86Eject		exec sudo umount -R /mnt
bindsym XF86AudioNext		exec $next
bindsym XF86AudioPlay		exec $pause
bindsym XF86AudioPrev		exec $prev
bindsym XF86AudioStop		exec $pause
bindsym XF86AudioRecord		exec $audio
bindsym XF86AudioRewind		exec $lilbak
bindsym XF86AudioForward	exec $lilfor
#bindsym XF86Phone		exec
#bindsym XF86Tools		exec

##bindsym XF86Reload		restart
#bindsym XF86ScrollUp		exec
#bindsym XF86ScrollDown		exec
#bindsym XF86New		exec
#bindsym XF86LaunchA		exec
#bindsym XF86LaunchB		exec
#bindsym XF86Launch2		exec
#bindsym XF86Launch3		exec
#bindsym XF86Launch4		exec
#bindsym XF86Launch5		exec
#bindsym XF86Launch6		exec
#bindsym XF86Launch7		exec
#bindsym XF86Launch8		exec
#bindsym XF86Launch9		exec
bindsym XF86AudioMicMute	exec $micmute
#bindsym XF86TouchpadToggle	exec
bindsym XF86TouchpadOn		exec --no-startup-id exec synclient TouchpadOff=0
bindsym XF86TouchpadOff		exec --no-startup-id exec synclient TouchpadOff=1
bindsym $mod+Control+grave exec --no-startup-id ~/.scripts/i3cmds/lock
bindsym XF86Close		kill
#bindsym XF86Go			exec
#bindsym XF86Finance		exec
#bindsym XF86Game		exec
bindsym XF86MonBrightnessDown	exec --no-startup-id light -U 15
bindsym XF86MonBrightnessUp	exec --no-startup-id light -A 15
bindsym XF86AudioMedia		exec $music
##bindsym XF86Display		exec --no-startup-id arandr
#bindsym XF86KbdLightOnOff	exec
bindsym XF86KbdBrightnessDown	exec --no-startup-id light -U 15
bindsym XF86KbdBrightnessUp	exec --no-startup-id light -A 15
#bindsym XF86Reply		exec
#bindsym XF86Save		exec
bindsym XF86Documents		exec $term -e ranger ~/Documents
#bindsym XF86Battery		exec
#bindsym XF86Bluetooth		exec
bindsym XF86WLAN		exec --no-startup-id sudo sv restart NetworkManager

# colors
set $bg-color						 #FFF
set $inactive-bg-color   #2f343f
set $text-color          #2d2d2d
set $indicator					 #7f6fff
set $urgent-bg-color     #E53935


# window colors
#                       border              background         text                 indicator
client.focused          $bg-color           $bg-color          $text-color          $indicator

# Start i3bar to display a workspace bar (plus the system information i3status
# finds out, if available)
bar {
				status_command i3status -c /home/mikus/.config/i3/i3status.conf
				position			 bottom
				tray_output $primary

	 colors {
			 background #000000
			 statusline #ffffff

			 focused_workspace  #ffffff #285577
			 active_workspace   #ffffff #333333
			 inactive_workspace #888888 #222222
			 urgent_workspace   #ffffff #900000
	 }

}
